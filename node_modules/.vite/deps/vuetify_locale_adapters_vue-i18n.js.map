{
  "version": 3,
  "sources": ["../../vuetify/src/locale/adapters/vue-i18n.ts"],
  "sourcesContent": ["// Composables\nimport { useProxiedModel } from '@/composables/proxiedModel'\n\n// Utilities\nimport { watch } from 'vue'\n\n// Types\nimport type { Ref } from 'vue'\nimport type { I18n, useI18n } from 'vue-i18n'\nimport type { LocaleInstance, LocaleMessages, LocaleOptions } from '@/composables/locale'\n\ntype VueI18nAdapterParams = {\n  i18n: I18n<any, {}, {}, string, false>\n  useI18n: typeof useI18n\n}\n\nfunction useProvided <T> (props: any, prop: string, provided: Ref<T>) {\n  const internal = useProxiedModel(props, prop)\n\n  internal.value = props[prop] ?? provided.value\n\n  watch(provided, v => {\n    if (props[prop] == null) {\n      internal.value = v\n    }\n  })\n\n  return internal as Ref<T>\n}\n\nfunction createProvideFunction (data: {\n  current: Ref<string>\n  fallback: Ref<string>\n  messages: Ref<LocaleMessages>\n  useI18n: typeof useI18n\n}) {\n  return (props: LocaleOptions): LocaleInstance => {\n    const current = useProvided(props, 'locale', data.current)\n    const fallback = useProvided(props, 'fallback', data.fallback)\n    const messages = useProvided(props, 'messages', data.messages)\n\n    const i18n = data.useI18n({\n      locale: current.value,\n      fallbackLocale: fallback.value,\n      messages: messages.value as any,\n      useScope: 'local',\n      legacy: false,\n      inheritLocale: false,\n    })\n\n    watch(current, v => {\n      i18n.locale.value = v\n    })\n\n    return {\n      name: 'vue-i18n',\n      current,\n      fallback,\n      messages,\n      t: (key: string, ...params: unknown[]) => i18n.t(key, params),\n      n: i18n.n,\n      provide: createProvideFunction({ current, fallback, messages, useI18n: data.useI18n }),\n    }\n  }\n}\n\nexport function createVueI18nAdapter ({ i18n, useI18n }: VueI18nAdapterParams): LocaleInstance {\n  const current = i18n.global.locale\n  const fallback = i18n.global.fallbackLocale as Ref<any>\n  const messages = i18n.global.messages\n\n  return {\n    name: 'vue-i18n',\n    current,\n    fallback,\n    messages,\n    // @ts-expect-error Type instantiation is excessively deep and possibly infinite\n    t: (key: string, ...params: unknown[]) => i18n.global.t(key, params),\n    n: i18n.global.n,\n    provide: createProvideFunction({ current, fallback, messages, useI18n }),\n  }\n}\n"],
  "mappings": ";;;;;;;;AAgBA,SAASA,YAAiBC,OAAYC,MAAcC,UAAkB;AACpE,QAAMC,WAAWC,gBAAgBJ,OAAOC,IAAI;AAE5CE,WAASE,QAAQL,MAAMC,IAAI,KAAKC,SAASG;AAEzCC,QAAMJ,UAAUK,OAAK;AACnB,QAAIP,MAAMC,IAAI,KAAK,MAAM;AACvBE,eAASE,QAAQE;IACnB;EACF,CAAC;AAED,SAAOJ;AACT;AAEA,SAASK,sBAAuBC,MAK7B;AACD,SAAQT,WAAyC;AAC/C,UAAMU,UAAUX,YAAYC,OAAO,UAAUS,KAAKC,OAAO;AACzD,UAAMC,WAAWZ,YAAYC,OAAO,YAAYS,KAAKE,QAAQ;AAC7D,UAAMC,WAAWb,YAAYC,OAAO,YAAYS,KAAKG,QAAQ;AAE7D,UAAMC,OAAOJ,KAAKK,QAAQ;MACxBC,QAAQL,QAAQL;MAChBW,gBAAgBL,SAASN;MACzBO,UAAUA,SAASP;MACnBY,UAAU;MACVC,QAAQ;MACRC,eAAe;IACjB,CAAC;AAEDb,UAAMI,SAASH,OAAK;AAClBM,WAAKE,OAAOV,QAAQE;IACtB,CAAC;AAED,WAAO;MACLa,MAAM;MACNV;MACAC;MACAC;MACAS,GAAG,SAACC,KAAW;AAAA,iBAAAC,OAAAC,UAAAC,QAAKC,SAAM,IAAAC,MAAAJ,OAAA,IAAAA,OAAA,IAAA,CAAA,GAAAK,OAAA,GAAAA,OAAAL,MAAAK,QAAA;AAANF,iBAAME,OAAA,CAAA,IAAAJ,UAAAI,IAAA;QAAA;AAAA,eAAgBf,KAAKQ,EAAEC,KAAKI,MAAM;MAAC;MAC7DG,GAAGhB,KAAKgB;MACRC,SAAStB,sBAAsB;QAAEE;QAASC;QAAUC;QAAUE,SAASL,KAAKK;MAAQ,CAAC;IACvF;EACF;AACF;AAEO,SAASiB,qBAAoBC,MAA2D;AAAA,MAAzD;IAAEnB;IAAMC;EAA8B,IAACkB;AAC3E,QAAMtB,UAAUG,KAAKoB,OAAOlB;AAC5B,QAAMJ,WAAWE,KAAKoB,OAAOjB;AAC7B,QAAMJ,WAAWC,KAAKoB,OAAOrB;AAE7B,SAAO;IACLQ,MAAM;IACNV;IACAC;IACAC;;IAEAS,GAAG,SAACC,KAAW;AAAA,eAAAY,QAAAV,UAAAC,QAAKC,SAAM,IAAAC,MAAAO,QAAA,IAAAA,QAAA,IAAA,CAAA,GAAAC,QAAA,GAAAA,QAAAD,OAAAC,SAAA;AAANT,eAAMS,QAAA,CAAA,IAAAX,UAAAW,KAAA;MAAA;AAAA,aAAgBtB,KAAKoB,OAAOZ,EAAEC,KAAKI,MAAM;IAAC;IACpEG,GAAGhB,KAAKoB,OAAOJ;IACfC,SAAStB,sBAAsB;MAAEE;MAASC;MAAUC;MAAUE;IAAQ,CAAC;EACzE;AACF;",
  "names": ["useProvided", "props", "prop", "provided", "internal", "useProxiedModel", "value", "watch", "v", "createProvideFunction", "data", "current", "fallback", "messages", "i18n", "useI18n", "locale", "fallbackLocale", "useScope", "legacy", "inheritLocale", "name", "t", "key", "_len", "arguments", "length", "params", "Array", "_key", "n", "provide", "createVueI18nAdapter", "_ref", "global", "_len2", "_key2"]
}
